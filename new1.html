<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Form</title>
    <link
            rel="icon"
            href=
"data:image/jpeg;base64,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"
            type="image">
</head>
<body>
    <h1 style="text-align: center;font-size: 40px;margin-top: 20px;margin-bottom:20px;">Registration Form</h1>
    <form id="formcontainer">
        <div id="container">
            <label id="name"><b>Name</b></label>
            <input type="text" id="nmip" placeholder="Enter your name" required>
            <br>
            <label id="email"><b>Email</b></label>
            <input type="email" id="eip" placeholder="Enter your email" required>
            <br>
            <label id="phone"><b>Phone number</b></label>
        
            <input type="text" id="noip" placeholder="Enter your number" maxlength="10" required>
            <br>
            <label id="dob1"><b>DOB</b></label>
            
            <input type="date" id="dip" placeholder="Enter your DOB" required>
            <br>
            <label id="age2"><b>Age</b></label>
            
            <input type="text" id="ipage" readonly style="text-align: center;">
            <br>
            <label id="pwd"><b>Password</b></label>
        
            <input type="password" id="pip" placeholder="Enter password" required>
            <br>
            <label id="rpwd"><b>Reenter the Password</b></label>
            <input type="password" id="rpip" placeholder="Reenter the password" required>
            <br>
            <button type="submit" id="btn">Register</button>
            <button type="button" id="updateBtn" style="display:none;">Update</button>
        </div>
    </form>
    <div id="op" style="display:none">
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Age</th>
                    <th>Password</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="dataTableBody"></tbody>
        </table>
    </div>
    <script>
        // Array to store form data temporarily
        let formDataArray = [];
        let editingIndex = -1;

        document.getElementById("dip").addEventListener('change', function (e) {
            e.preventDefault();
            const dt = document.getElementById("dip").value;
            const da1 = new Date(dt);
            const cda1 = new Date();
            const a = cda1.getFullYear() - da1.getFullYear();
            document.getElementById("ipage").value = a;
        });

        document.getElementById("formcontainer").addEventListener('submit', function (e) {
            e.preventDefault();
            let isvalid = true;
            const nm = document.getElementById("nmip").value;
            const em = document.getElementById("eip").value;
            const ph = document.getElementById("noip").value;
            const dt = document.getElementById("dip").value;
            const p1 = document.getElementById("pip").value;
            const p2 = document.getElementById("rpip").value;
            const da1 = new Date(dt);
            const cda1 = new Date();
            const a = cda1.getFullYear() - da1.getFullYear();

            if ((nm === '' || em === '' || ph === '' || dt === '' || p1 === '' || p2 === '')) {
                alert("Enter value for all fields");
                return;
            }
            if (!/.+@.+\..+/.test(em)) {
                isvalid = false;
                alert("Enter Valid Email");
            }
            if (ph.length < 10 || ph.length > 10 || /[^0-9]/.test(ph) || ph.charAt(0) !== "9") {
                isvalid = false;
                alert("Enter Valid Phone number");
            }
            if (p1 === p2) {
                if (!/[a-z]/.test(p1) || !/[0-9]/.test(p1) || !(p1.charAt(0) === p1.charAt(0).toUpperCase()) || !/[^a-zA-Z0-9]/.test(p1)) {
                    isvalid = false;
                    alert("Password should start with alphabet, should contain at least 1 lowercase and 1 special character");
                }
            } else {
                isvalid = false;
                alert("Password Mismatched");
            }
            if (isvalid) {
                if (editingIndex >= 0) {
                    formDataArray[editingIndex] = { name: nm, email: em, phone: ph, age: a, password: p1 };
                    editingIndex = -1;
                    document.getElementById("updateBtn").style.display = 'none';
                    document.getElementById("btn").style.display = 'block';
                } else {
                    formDataArray.push({ name: nm, email: em, phone: ph, age: a, password: p1 });
                }
                displayData();
                document.getElementById("formcontainer").reset();
                document.getElementById("ipage").value = '';
            }
        });

        function displayData() {
            const tableBody = document.getElementById("dataTableBody");
            tableBody.innerHTML = '';
            formDataArray.forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${entry.name}</td>
                    <td>${entry.email}</td>
                    <td>${entry.phone}</td>
                    <td>${entry.age}</td>
                    <td>${entry.password}</td>
                    <td><button onclick="editData(${index})">Edit</button></td>
                `;
                tableBody.appendChild(row);
            });
            document.getElementById("op").style.display = formDataArray.length > 0 ? 'block' : 'none';
        }

        function editData(index) {
            const entry = formDataArray[index];
            document.getElementById("nmip").value = entry.name;
            document.getElementById("eip").value = entry.email;
            document.getElementById("noip").value = entry.phone;
            document.getElementById("dip").value = entry.dob; // Note: Assuming DOB needs to be stored and retrieved correctly
            document.getElementById("ipage").value = entry.age;
            document.getElementById("pip").value = entry.password;
            document.getElementById("rpip").value = entry.password;
            editingIndex = index;
            document.getElementById("btn").style.display = 'none';
            document.getElementById("updateBtn").style.display = 'block';
        }

        document.getElementById("updateBtn").addEventListener('click', function () {
            document.getElementById("formcontainer").dispatchEvent(new Event('submit'));
        });
    </script>
    <style>
        body{
            background-color: rgb(201, 196, 196);
        }
        table, th, td {
            border: 0.2px solid black;
            text-align: center;
            padding: 10px;
        }
        #formcontainer {
            box-sizing: inherit;
            border-width: 3px;
            box-sizing: border-box;
            background-color:white;
            max-width: fit-content;
            margin-left: 450px;
            font-size: 20px;
            padding: 10px;
        }
        label {
            margin-bottom: 20px;
            font-size: 20px;
            position:relative;
        }
        input {
            font-size: 20px;
            margin-bottom: 20px;
            max-width: fit-content;
        }
        #btn, #updateBtn {
            background-color: blue;
            color: white;
            cursor: pointer;
            font-size: 25px;
            margin-left: 170px;
        }
        #btn:hover, #updateBtn:hover {
            background-color: rgb(20, 211, 116);
            color: black;
        }
        #op {
            background-color: aqua;
            text-align:center;
            margin-left:400px;
            max-width: fit-content;
        }
        input:hover{
            border-color: aqua;
            box-shadow: 3px aqua;
        }
</style>
</body>
</html>
